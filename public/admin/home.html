<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#f6f2ee" />
    <meta name="robots" content="noindex,nofollow" />
    <title>Admin — Home Content</title>
    <link rel="icon" href="../assets/Logo.PNG" />
    <link rel="stylesheet" href="../styles.css?v=20260106_5" />
    <link rel="stylesheet" href="admin.css?v=20260111_1" />
  </head>

  <body data-admin-auth="true" data-admin-page="home">
    <header class="header" id="top">
      <a class="header__logo" href="../index.html" aria-label="MBP Home">
        <img src="../assets/Logo.PNG" alt="MBP Lingerie" />
      </a>

      <a class="icon-btn header__right" href="#" id="adminLogout" aria-label="Logout">
        <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
          <path d="M10 17l5-5-5-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M15 12H3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          <path d="M21 3v18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </a>
    </header>

    <main class="admin" aria-label="Admin home">
      <div class="admin__inner">
        <div class="page__head" style="margin-bottom: 14px;">
          <p class="page__kicker">Admin</p>
          <h1 class="page__title">Home Page Editor</h1>
          <p class="page__sub">Update hero video, featured pieces, and reviews.</p>
        </div>

        <div class="notice" id="adminNotice" hidden></div>

        <div class="admin-shell">
          <aside class="admin-nav" aria-label="Admin navigation">
            <div class="admin-nav__title">Dashboard</div>
            <div class="admin-nav__links">
              <a href="home.html" aria-current="page">Home</a>
              <a href="store.html">Store</a>
              <a href="gallery.html">Gallery</a>
              <a href="orders.html">Orders</a>
              <a href="delivery.html">Delivery Fee</a>
            </div>
            <div class="admin-mini" style="margin-top: 10px;">Not linked on the public site.</div>
          </aside>

          <section aria-label="Home editors">
            <div class="admin-card">
              <h2 class="admin-card__title">Backup & Restore</h2>
              <p class="admin-card__sub">If Home content ever resets after a restart, use these to restore the last backup.</p>
              <div class="admin-row admin-toolRow" style="gap:10px; flex-wrap:wrap;">
                <button class="btn" type="button" id="contentBackupBtn">Backup site content now</button>
                <button class="btn btn--ghost btn--danger" type="button" id="contentRestoreBtn">Restore last backup</button>
                <button class="btn btn--ghost" type="button" id="contentPullBtn">Force pull from Cloudinary</button>
                <button class="btn btn--ghost btn--danger" type="button" id="contentInitBtn">Initialize empty content</button>
              </div>
              <div class="admin-row admin-toolRow" style="gap:10px; flex-wrap:wrap; margin-top:10px;">
                <button class="btn btn--ghost" type="button" id="allBackupBtn">Backup EVERYTHING (incl orders)</button>
                <button class="btn btn--ghost btn--danger" type="button" id="allRestoreBtn">Restore EVERYTHING</button>
              </div>
              <div class="admin-mini" style="margin-top:8px;">Tip: Backups are stored in Cloudinary raw JSON.</div>
              <div id="dataStatus" style="margin-top:10px;"></div>
            </div>

            <div class="admin-card">
              <h2 class="admin-card__title">Hero background video</h2>
              <p class="admin-card__sub">Paste a video URL or upload a new MP4.</p>

              <div class="admin-grid">
                <div class="admin-field" style="grid-column: 1 / -1;">
                  <label for="heroVideo">Hero video URL</label>
                  <input id="heroVideo" type="text" placeholder="e.g. https://... (Cloudinary) or /uploads/your-video.mp4" />
                </div>

                <div class="admin-row" style="grid-column: 1 / -1; justify-content: space-between;">
                  <div class="admin-mini">Upload (optional): <input id="heroUpload" type="file" accept="video/*" /></div>
                  <button class="btn" type="button" id="heroSave">Save hero video</button>
                </div>
              </div>
            </div>

            <div class="admin-card">
              <h2 class="admin-card__title">Featured pieces</h2>
              <p class="admin-card__sub">Add up to 5 products shown on the homepage carousel.</p>

              <form id="featuredAddForm" style="margin: 8px 0 12px;">
                <div class="admin-grid">
                  <div class="admin-field" style="grid-column:1/-1;">
                    <label>Name</label>
                    <input name="name" type="text" placeholder="e.g. Lace Set" required />
                  </div>
                  <div class="admin-field">
                    <label>Price (NGN)</label>
                    <input name="price" type="number" min="0" step="1" placeholder="0" />
                  </div>
                  <div class="admin-field" style="grid-column:1/-1;">
                    <label>Image URL</label>
                    <input name="image" type="text" placeholder="https://... (Cloudinary) or /assets/..." />
                    <div class="admin-mini" style="margin-top:6px;">Tip: after adding, you can use “Or upload” inside the item card.</div>
                  </div>
                  <div class="admin-field" style="grid-column:1/-1;">
                    <label>Description</label>
                    <textarea name="desc" placeholder="Short description"></textarea>
                  </div>
                  <div class="admin-field" style="grid-column:1/-1;">
                    <label>Sizes (comma separated)</label>
                    <input name="sizes" type="text" placeholder="S, M, L" />
                  </div>
                  <div class="admin-row" style="grid-column:1/-1; justify-content:flex-end;">
                    <button class="btn" type="submit">Add featured piece</button>
                  </div>
                </div>
              </form>

              <div class="admin-list" id="featuredList"></div>
            </div>

            <div class="admin-card">
              <h2 class="admin-card__title">Reviews</h2>
              <p class="admin-card__sub">Add up to 5 customer reviews shown on the homepage.</p>

              <form id="reviewAddForm" style="margin: 8px 0 12px;">
                <div class="admin-grid">
                  <div class="admin-field" style="grid-column:1/-1;">
                    <label>Review text</label>
                    <textarea name="text" placeholder="Write the customer review" required></textarea>
                  </div>
                  <div class="admin-field" style="grid-column:1/-1;">
                    <label>Meta (e.g., Ada — Lagos)</label>
                    <input name="meta" type="text" placeholder="Name — City" />
                  </div>
                  <div class="admin-row" style="grid-column:1/-1; justify-content:flex-end;">
                    <button class="btn" type="submit">Add review</button>
                  </div>
                </div>
              </form>

              <div class="admin-list" id="reviewsList"></div>
            </div>
          </section>
        </div>
      </div>
    </main>

    <script src="../config.js?v=20260111_1"></script>
    <script src="admin.js?v=20260111_1"></script>
  </body>
</html>
